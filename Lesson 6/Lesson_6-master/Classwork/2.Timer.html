<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Homework</title>
</head>
<body>
      <!--
        Создайте счетчик секунд, который начинает отчет с 1 и заканчивается на 30,
        также добавьте кнопки который останавливают отчет, и запускают его заново и добавьте кнопку обнуляющую отчет.
        Также попробуйте изменить код так чтобы отчет начиналься с 30 и заканчивалься на 1.

       + бонус: Сделать так что бы на каждый тик (1с/2c) менялся цвет фона. Можно на основе генератора случайного цвета с предудущих уроков.
       + бонус: Сделать визуализацию стрелки которая идет по кругу
            document.getElementById("myDIV").style.transform = "rotate(7deg)";

       + бонус: Сделать кнопки которые выбирают режим в котором идет отсчет - обычный от 0 до 30 или реверсивный от 30 до 0
      -->
      <style>
          .arrow{
              width: 2px;
              height: 50px;
              background: black;
              transform-origin: center bottom;
              margin-left: 100px; 
          }
      </style>

      <h1>Считалочка до 30</h1>
      <div id="myDiv" class="arrow"></div>
      <p id="result"></p>
      <button id="start">START</button>
      <button id="stop">STOP</button>
      <button id="reverse">REVERSE</button>
      <script>
        let start = document.getElementById('start');
        let stop = document.getElementById('stop');
        let result = document.getElementById('result');
        let myDiv = document.getElementById('myDiv');
        let reverse = document.getElementById('reverse');

        start.addEventListener('click', startCount)
        stop.addEventListener('click', stopCount)
        reverse.addEventListener('click', reverseCount)
        
        function getRandomInt(max) {
            return Math.floor(Math.random() * Math.floor(max));
        }

        let counter = 1;
        let rotateAngle = 0;
        // var timer;
        function startCount() {
            stopCount();
            start.timer = setInterval( () => {
                if(counter === 30) { stopCount() };
                result.innerText = counter;
                counter++;
                rotateAngle += 7;
                myDiv.style.transform = `rotate(${rotateAngle}deg)`;
                let r = getRandomInt(255),
                    g = getRandomInt(255),
                    b = getRandomInt(255);
                let color = document.body.style.backgroundColor = 'rgb('+r+','+g+','+b+')';
            }, 1000)
        }

        function reverseCount() {
            stopCount();
            start.timer = setInterval( () => {
                if(counter === 0) { stopCount() };
                result.innerText = counter;
                counter--;
                rotateAngle -= 7;
                myDiv.style.transform = `rotate(${rotateAngle}deg)`;
                let r = getRandomInt(255),
                    g = getRandomInt(255),
                    b = getRandomInt(255);
                let color = document.body.style.backgroundColor = 'rgb('+r+','+g+','+b+')';
            }, 1000)
        }

        function stopCount() {
            clearInterval( start.timer );
        }
      </script>
</body>
</html>
